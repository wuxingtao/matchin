!function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t():"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports.ReactMicroApp=t():e.ReactMicroApp=t()}(this,(function(){return(this.webpackJsonp_ReactMicroApp=this.webpackJsonp_ReactMicroApp||[]).push([[0],{155:function(e,t,n){e.exports=n(321)},162:function(e,t){},321:function(e,t,n){"use strict";n.r(t),n.d(t,"bootstrap",(function(){return v})),n.d(t,"mount",(function(){return R})),n.d(t,"unmount",(function(){return M}));var a=n(22),r=n.n(a),c=n(49),o=n(0),u=n.n(o),i=n(6),p=n.n(i),s=(n(161),n(162),n(39)),l=n(38),f=n(104),m=n(31),d=function(){return u.a.createElement("section",{style:{padding:20}},"React App")},b=n(323),E=n(324),y=n(322),h=n(129),g=n.n(h),j=function(e,t){return g()("http://dev-api.jt-gmall.com/mall",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"{ vegetableList (page: ".concat(e,", pageSize: ").concat(t,") { page, pageSize, total, items { _id, name, poster, price } } }")})}).then((function(e){return e.json()}))},O=b.a.Column,w=function(){var e=Object(o.useState)([]),t=Object(s.a)(e,2),n=t[0],a=t[1],i=Object(o.useState)(1),p=Object(s.a)(i,2),l=p[0],f=p[1],m=Object(o.useState)(),d=Object(s.a)(m,2),h=d[0],g=d[1];return Object(o.useEffect)((function(){console.log({page:l}),Object(c.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(l,10);case 2:t=e.sent,n=t.data.vegetableList,a((function(){return n.items})),g((function(){return{current:n.page,pageSize:n.pageSize,total:n.total,onChange:function(e){return f(e)}}}));case 6:case"end":return e.stop()}}),e)})))()}),[l]),u.a.createElement(E.a,{title:"React \u5b50\u5e94\u7528\u5217\u8868\u9875"},u.a.createElement(b.a,{rowKey:"_id",dataSource:n,pagination:h},u.a.createElement(O,{dataIndex:"poster",render:function(e){return u.a.createElement(y.a,{src:e})}}),u.a.createElement(O,{dataIndex:"name"}),u.a.createElement(O,{dataIndex:"price",render:function(e){return u.a.createElement(u.a.Fragment,null,"\uffe5 ",e)}})))},_=[{key:"react",route:"/",title:"\u4e3b\u9875"},{key:"react-list",route:"/list",title:"\u5217\u8868\u9875"}],x=window.__POWERED_BY_QIANKUN__?"/react":"",k=function(){var e=Object(o.useState)(0),t=Object(s.a)(e,2),n=t[0],a=t[1],r=Object(o.useState)(["react"]),c=Object(s.a)(r,2),i=c[0],p=c[1];return Object(o.useEffect)((function(){var e=window.location.pathname,t=_.find((function(t){return"".concat(x).concat(t.route)===e}));p((function(){return[t?t.key:"react"]}))}),[n]),u.a.createElement(f.a,{basename:x},u.a.createElement("section",null,u.a.createElement(l.a,{onClick:function(){return a((function(e){return++e}))},selectedKeys:i,mode:"horizontal"},_.map((function(e){return u.a.createElement(l.a.Item,{key:e.key},u.a.createElement(f.b,{to:e.route},e.title))}))),u.a.createElement(o.Suspense,{fallback:null},u.a.createElement(m.c,null,u.a.createElement(m.a,{exact:!0,path:"/",component:d}),u.a.createElement(m.a,{path:"/list",component:w})))))};function S(){p.a.render(u.a.createElement(k,null),document.getElementById("root"))}function v(){return A.apply(this,arguments)}function A(){return(A=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("ReactMicroApp bootstraped");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e){return I.apply(this,arguments)}function I(){return(I=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("ReactMicroApp mount",t),S();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return N.apply(this,arguments)}function N(){return(N=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("ReactMicroApp unmount"),p.a.unmountComponentAtNode(document.getElementById("root"));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}window.__POWERED_BY_QIANKUN__||S()}},[[155,1,2]]])}));
//# sourceMappingURL=main.9841e70c.chunk.js.map